'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _helpers = require('./helpers');

var should = _chai2['default'].should();

function findElementTests() {
  var _this = this;

  describe('finding elements', function () {
    var driver = undefined;
    (0, _helpers.initSession)(_helpers.DEFAULT_CAPS).then(function (d) {
      driver = d;
    });

    it('should find a single element by xpath', function callee$2$0() {
      var el;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByXPath('//MockWebView'));

          case 2:
            el = context$3$0.sent;

            should.exist(el.value);

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find a single element that is not there', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByXPath('//dontexist').should.eventually.be.rejectedWith(/7/));

          case 2:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should find multiple elements', function callee$2$0() {
      var els;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementsByXPath('//MockListItem'));

          case 2:
            els = context$3$0.sent;

            els.should.have.length(3);

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find multiple elements that are not there', function callee$2$0() {
      var els;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementsByXPath('//dontexist'));

          case 2:
            els = context$3$0.sent;

            els.should.eql([]);

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });

    it('should find a single element by id', function callee$2$0() {
      var el;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementById('wv'));

          case 2:
            el = context$3$0.sent;

            should.exist(el.value);

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find a single element by id that is not there', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementById('dontexist').should.eventually.be.rejectedWith(/7/));

          case 2:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should find multiple elements by id', function callee$2$0() {
      var els;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementsById('li'));

          case 2:
            els = context$3$0.sent;

            els.should.have.length(2);

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find multiple elements by id that are not there', function callee$2$0() {
      var els;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementsById('dontexist'));

          case 2:
            els = context$3$0.sent;

            els.should.eql([]);

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });

    it('should find a single element by class', function callee$2$0() {
      var el;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByClassName('MockWebView'));

          case 2:
            el = context$3$0.sent;

            should.exist(el.value);

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find a single element by class that is not there', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementById('dontexist').should.eventually.be.rejectedWith(/7/));

          case 2:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should find multiple elements by class', function callee$2$0() {
      var els;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementsByClassName('MockListItem'));

          case 2:
            els = context$3$0.sent;

            els.should.have.length(3);

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find multiple elements by class that are not there', function callee$2$0() {
      var els;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementsByClassName('dontexist'));

          case 2:
            els = context$3$0.sent;

            els.should.eql([]);

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });

    it('should not find a single element with bad strategy', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByCss('.sorry').should.eventually.be.rejectedWith(/9/));

          case 2:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find a single element with bad selector', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByXPath('badsel').should.eventually.be.rejectedWith(/32/));

          case 2:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find multiple elements with bad strategy', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementsByCss('.sorry').should.eventually.be.rejectedWith(/9/));

          case 2:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find multiple elements with bad selector', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementsByXPath('badsel').should.eventually.be.rejectedWith(/32/));

          case 2:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });

    it('should find an element from another element', function callee$2$0() {
      var el, title, earlierTitle;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementById('iframe1'));

          case 2:
            el = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(el.elementByTagName('title'));

          case 5:
            title = context$3$0.sent;
            context$3$0.next = 8;
            return _regeneratorRuntime.awrap(driver.elementByTagName('title'));

          case 8:
            earlierTitle = context$3$0.sent;
            context$3$0.next = 11;
            return _regeneratorRuntime.awrap(earlierTitle.equals(title));

          case 11:
            context$3$0.sent.should.equal(false);

          case 12:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should find multiple elements from another element', function callee$2$0() {
      var el, titles;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByTagName('html'));

          case 2:
            el = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(el.elementsByTagName('title'));

          case 5:
            titles = context$3$0.sent;

            titles.length.should.equal(2);

          case 7:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find an element that doesnt exist from another element', function callee$2$0() {
      var el;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByTagName('html'));

          case 2:
            el = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(el.elementByTagName('marquee').should.eventually.be.rejectedWith(/7/));

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find multiple elements that dont exist from another element', function callee$2$0() {
      var el;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByTagName('html'));

          case 2:
            el = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(el.elementsByTagName('marquee'));

          case 5:
            context$3$0.t0 = [];
            context$3$0.sent.should.eql(context$3$0.t0);

          case 7:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find an element with bad strategy from another element', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByTagName('html').elementByCss('.sorry').should.eventually.be.rejectedWith(/9/));

          case 2:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should not find elements with bad strategy from another element', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByTagName('html').elementsByCss('.sorry').should.eventually.be.rejectedWith(/9/));

          case 2:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
    it('should error if root element is not valid', function callee$2$0() {
      var el;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByTagName('html'));

          case 2:
            el = context$3$0.sent;

            el.value = 'foobar';
            context$3$0.next = 6;
            return _regeneratorRuntime.awrap(el.elementByTagName('body').should.eventually.be.rejectedWith(/10/));

          case 6:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
  });
}

exports['default'] = findElementTests;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZmluZC1lbGVtZW50LXRlc3RzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7b0JBQWlCLE1BQU07Ozs7dUJBQ21CLFdBQVc7O0FBRXJELElBQU0sTUFBTSxHQUFHLGtCQUFLLE1BQU0sRUFBRSxDQUFDOztBQUU3QixTQUFTLGdCQUFnQixHQUFJOzs7QUFDM0IsVUFBUSxDQUFDLGtCQUFrQixFQUFFLFlBQU07QUFDakMsUUFBSSxNQUFNLFlBQUEsQ0FBQztBQUNYLG9EQUF5QixDQUFDLElBQUksQ0FBQyxVQUFDLENBQUMsRUFBSztBQUFFLFlBQU0sR0FBRyxDQUFDLENBQUM7S0FBRSxDQUFDLENBQUM7O0FBRXZELE1BQUUsQ0FBQyx1Q0FBdUMsRUFBRTtVQUN0QyxFQUFFOzs7Ozs2Q0FBUyxNQUFNLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQzs7O0FBQWpELGNBQUU7O0FBQ04sa0JBQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDOzs7Ozs7O0tBQ3hCLENBQUMsQ0FBQztBQUNILE1BQUUsQ0FBQyxvREFBb0QsRUFBRTs7Ozs7NkNBQ2pELE1BQU0sQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLENBQ2pDLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUM7Ozs7Ozs7S0FDaEQsQ0FBQyxDQUFDO0FBQ0gsTUFBRSxDQUFDLCtCQUErQixFQUFFO1VBQzlCLEdBQUc7Ozs7OzZDQUFTLE1BQU0sQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUM7OztBQUFwRCxlQUFHOztBQUNQLGVBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQzs7Ozs7OztLQUMzQixDQUFDLENBQUM7QUFDSCxNQUFFLENBQUMsc0RBQXNELEVBQUU7VUFDckQsR0FBRzs7Ozs7NkNBQVMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUM7OztBQUFqRCxl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cG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IHsgaW5pdFNlc3Npb24sIERFRkFVTFRfQ0FQUyB9IGZyb20gJy4vaGVscGVycyc7XG5cbmNvbnN0IHNob3VsZCA9IGNoYWkuc2hvdWxkKCk7XG5cbmZ1bmN0aW9uIGZpbmRFbGVtZW50VGVzdHMgKCkge1xuICBkZXNjcmliZSgnZmluZGluZyBlbGVtZW50cycsICgpID0+IHtcbiAgICBsZXQgZHJpdmVyO1xuICAgIGluaXRTZXNzaW9uKERFRkFVTFRfQ0FQUykudGhlbigoZCkgPT4geyBkcml2ZXIgPSBkOyB9KTtcblxuICAgIGl0KCdzaG91bGQgZmluZCBhIHNpbmdsZSBlbGVtZW50IGJ5IHhwYXRoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGVsID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeVhQYXRoKCcvL01vY2tXZWJWaWV3Jyk7XG4gICAgICBzaG91bGQuZXhpc3QoZWwudmFsdWUpO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgbm90IGZpbmQgYSBzaW5nbGUgZWxlbWVudCB0aGF0IGlzIG5vdCB0aGVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGRyaXZlci5lbGVtZW50QnlYUGF0aCgnLy9kb250ZXhpc3QnKVxuICAgICAgICAgICAgICAuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKC83Lyk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBmaW5kIG11bHRpcGxlIGVsZW1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGVscyA9IGF3YWl0IGRyaXZlci5lbGVtZW50c0J5WFBhdGgoJy8vTW9ja0xpc3RJdGVtJyk7XG4gICAgICBlbHMuc2hvdWxkLmhhdmUubGVuZ3RoKDMpO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgbm90IGZpbmQgbXVsdGlwbGUgZWxlbWVudHMgdGhhdCBhcmUgbm90IHRoZXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGVscyA9IGF3YWl0IGRyaXZlci5lbGVtZW50c0J5WFBhdGgoJy8vZG9udGV4aXN0Jyk7XG4gICAgICBlbHMuc2hvdWxkLmVxbChbXSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpbmQgYSBzaW5nbGUgZWxlbWVudCBieSBpZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBlbCA9IGF3YWl0IGRyaXZlci5lbGVtZW50QnlJZCgnd3YnKTtcbiAgICAgIHNob3VsZC5leGlzdChlbC52YWx1ZSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBub3QgZmluZCBhIHNpbmdsZSBlbGVtZW50IGJ5IGlkIHRoYXQgaXMgbm90IHRoZXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUlkKCdkb250ZXhpc3QnKVxuICAgICAgICAgICAgICAuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKC83Lyk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBmaW5kIG11bHRpcGxlIGVsZW1lbnRzIGJ5IGlkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGVscyA9IGF3YWl0IGRyaXZlci5lbGVtZW50c0J5SWQoJ2xpJyk7XG4gICAgICBlbHMuc2hvdWxkLmhhdmUubGVuZ3RoKDIpO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgbm90IGZpbmQgbXVsdGlwbGUgZWxlbWVudHMgYnkgaWQgdGhhdCBhcmUgbm90IHRoZXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGVscyA9IGF3YWl0IGRyaXZlci5lbGVtZW50c0J5SWQoJ2RvbnRleGlzdCcpO1xuICAgICAgZWxzLnNob3VsZC5lcWwoW10pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaW5kIGEgc2luZ2xlIGVsZW1lbnQgYnkgY2xhc3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZWwgPSBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5Q2xhc3NOYW1lKCdNb2NrV2ViVmlldycpO1xuICAgICAgc2hvdWxkLmV4aXN0KGVsLnZhbHVlKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIG5vdCBmaW5kIGEgc2luZ2xlIGVsZW1lbnQgYnkgY2xhc3MgdGhhdCBpcyBub3QgdGhlcmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5SWQoJ2RvbnRleGlzdCcpXG4gICAgICAgICAgICAgIC5zaG91bGQuZXZlbnR1YWxseS5iZS5yZWplY3RlZFdpdGgoLzcvKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGZpbmQgbXVsdGlwbGUgZWxlbWVudHMgYnkgY2xhc3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZWxzID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRzQnlDbGFzc05hbWUoJ01vY2tMaXN0SXRlbScpO1xuICAgICAgZWxzLnNob3VsZC5oYXZlLmxlbmd0aCgzKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIG5vdCBmaW5kIG11bHRpcGxlIGVsZW1lbnRzIGJ5IGNsYXNzIHRoYXQgYXJlIG5vdCB0aGVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBlbHMgPSBhd2FpdCBkcml2ZXIuZWxlbWVudHNCeUNsYXNzTmFtZSgnZG9udGV4aXN0Jyk7XG4gICAgICBlbHMuc2hvdWxkLmVxbChbXSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBmaW5kIGEgc2luZ2xlIGVsZW1lbnQgd2l0aCBiYWQgc3RyYXRlZ3knLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5Q3NzKCcuc29ycnknKVxuICAgICAgICAgICAgICAuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKC85Lyk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBub3QgZmluZCBhIHNpbmdsZSBlbGVtZW50IHdpdGggYmFkIHNlbGVjdG9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgZHJpdmVyLmVsZW1lbnRCeVhQYXRoKCdiYWRzZWwnKVxuICAgICAgICAgICAgICAuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKC8zMi8pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgbm90IGZpbmQgbXVsdGlwbGUgZWxlbWVudHMgd2l0aCBiYWQgc3RyYXRlZ3knLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBkcml2ZXIuZWxlbWVudHNCeUNzcygnLnNvcnJ5JylcbiAgICAgICAgICAgICAgLnNob3VsZC5ldmVudHVhbGx5LmJlLnJlamVjdGVkV2l0aCgvOS8pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgbm90IGZpbmQgbXVsdGlwbGUgZWxlbWVudHMgd2l0aCBiYWQgc2VsZWN0b3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBkcml2ZXIuZWxlbWVudHNCeVhQYXRoKCdiYWRzZWwnKVxuICAgICAgICAgICAgICAuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKC8zMi8pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaW5kIGFuIGVsZW1lbnQgZnJvbSBhbm90aGVyIGVsZW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZWwgPSBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5SWQoJ2lmcmFtZTEnKTtcbiAgICAgIGxldCB0aXRsZSA9IGF3YWl0IGVsLmVsZW1lbnRCeVRhZ05hbWUoJ3RpdGxlJyk7XG4gICAgICBsZXQgZWFybGllclRpdGxlID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeVRhZ05hbWUoJ3RpdGxlJyk7XG4gICAgICAoYXdhaXQgZWFybGllclRpdGxlLmVxdWFscyh0aXRsZSkpLnNob3VsZC5lcXVhbChmYWxzZSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBmaW5kIG11bHRpcGxlIGVsZW1lbnRzIGZyb20gYW5vdGhlciBlbGVtZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGVsID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeVRhZ05hbWUoJ2h0bWwnKTtcbiAgICAgIGxldCB0aXRsZXMgPSBhd2FpdCBlbC5lbGVtZW50c0J5VGFnTmFtZSgndGl0bGUnKTtcbiAgICAgIHRpdGxlcy5sZW5ndGguc2hvdWxkLmVxdWFsKDIpO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgbm90IGZpbmQgYW4gZWxlbWVudCB0aGF0IGRvZXNudCBleGlzdCBmcm9tIGFub3RoZXIgZWxlbWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBlbCA9IGF3YWl0IGRyaXZlci5lbGVtZW50QnlUYWdOYW1lKCdodG1sJyk7XG4gICAgICBhd2FpdCBlbC5lbGVtZW50QnlUYWdOYW1lKCdtYXJxdWVlJylcbiAgICAgICAgICAgICAgLnNob3VsZC5ldmVudHVhbGx5LmJlLnJlamVjdGVkV2l0aCgvNy8pO1xuXG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBub3QgZmluZCBtdWx0aXBsZSBlbGVtZW50cyB0aGF0IGRvbnQgZXhpc3QgZnJvbSBhbm90aGVyIGVsZW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZWwgPSBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5VGFnTmFtZSgnaHRtbCcpO1xuICAgICAgKGF3YWl0IGVsLmVsZW1lbnRzQnlUYWdOYW1lKCdtYXJxdWVlJykpLnNob3VsZC5lcWwoW10pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgbm90IGZpbmQgYW4gZWxlbWVudCB3aXRoIGJhZCBzdHJhdGVneSBmcm9tIGFub3RoZXIgZWxlbWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGRyaXZlci5lbGVtZW50QnlUYWdOYW1lKCdodG1sJykuZWxlbWVudEJ5Q3NzKCcuc29ycnknKVxuICAgICAgICAgICAgICAuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKC85Lyk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBub3QgZmluZCBlbGVtZW50cyB3aXRoIGJhZCBzdHJhdGVneSBmcm9tIGFub3RoZXIgZWxlbWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGRyaXZlci5lbGVtZW50QnlUYWdOYW1lKCdodG1sJykuZWxlbWVudHNCeUNzcygnLnNvcnJ5JylcbiAgICAgICAgICAgICAgLnNob3VsZC5ldmVudHVhbGx5LmJlLnJlamVjdGVkV2l0aCgvOS8pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgZXJyb3IgaWYgcm9vdCBlbGVtZW50IGlzIG5vdCB2YWxpZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBlbCA9IGF3YWl0IGRyaXZlci5lbGVtZW50QnlUYWdOYW1lKCdodG1sJyk7XG4gICAgICBlbC52YWx1ZSA9ICdmb29iYXInO1xuICAgICAgYXdhaXQgZWwuZWxlbWVudEJ5VGFnTmFtZSgnYm9keScpLnNob3VsZC5ldmVudHVhbGx5LmJlLnJlamVjdGVkV2l0aCgvMTAvKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZpbmRFbGVtZW50VGVzdHM7XG5cbiJdLCJzb3VyY2VSb290IjoiLi4vLi4ifQ==
