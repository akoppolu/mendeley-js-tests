'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _setupBase = require("../setup-base");

var _setupBase2 = _interopRequireDefault(_setupBase);

var _desired = require('./desired');

var _desired2 = _interopRequireDefault(_desired);

var _bluebird = require('bluebird');

var _bluebird2 = _interopRequireDefault(_bluebird);

describe('uicatalog - reset', function () {

  describe('app reset', function () {
    var _this = this;

    var session = (0, _setupBase2['default'])(this, _desired2['default']);
    var driver = session.driver;
    var rawDriver = session.rawDriver;

    it("should be able to find elements after a soft reset", function callee$2$0() {
      var els;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            rawDriver.ready.should.be.ok;
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.findElements('class name', 'UIATableView'));

          case 3:
            els = context$3$0.sent;

            els.should.have.length(1);
            context$3$0.next = 7;
            return _regeneratorRuntime.awrap(driver.reset());

          case 7:
            rawDriver.ready.should.be.ok;
            context$3$0.next = 10;
            return _regeneratorRuntime.awrap(_bluebird2['default'].delay(1000));

          case 10:
            context$3$0.next = 12;
            return _regeneratorRuntime.awrap(driver.findElements('class name', 'UIATableView'));

          case 12:
            els = context$3$0.sent;

            els.should.have.length(1);

          case 14:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });

    it('should successfully close an app', function callee$2$0() {
      var els;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            rawDriver.ready.should.be.ok;
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.closeApp());

          case 3:
            rawDriver.ready.should.not.be.ok;
            context$3$0.next = 6;
            return _regeneratorRuntime.awrap(driver.launchApp());

          case 6:
            rawDriver.ready.should.be.ok;
            context$3$0.next = 9;
            return _regeneratorRuntime.awrap(driver.findElements('class name', 'UIATableView'));

          case 9:
            els = context$3$0.sent;

            els.should.have.length(1);

          case 11:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL3VpY2F0YWxvZy9yZXNldC1zcGVjcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7eUJBQWtCLGVBQWU7Ozs7dUJBQ2IsV0FBVzs7Ozt3QkFDakIsVUFBVTs7OztBQUV4QixRQUFRLENBQUMsbUJBQW1CLEVBQUUsWUFBWTs7QUFFeEMsVUFBUSxDQUFDLFdBQVcsRUFBRSxZQUFZOzs7QUFDaEMsUUFBSSxPQUFPLEdBQUcsNEJBQU0sSUFBSSx1QkFBVSxDQUFDO0FBQ25DLFFBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsUUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQzs7QUFFbEMsTUFBRSxDQUFDLG9EQUFvRCxFQUFFO1VBRW5ELEdBQUc7Ozs7QUFEUCxxQkFBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQzs7NkNBQ2IsTUFBTSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDOzs7QUFBN0QsZUFBRzs7QUFDUCxlQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7OzZDQUNwQixNQUFNLENBQUMsS0FBSyxFQUFFOzs7QUFDcEIscUJBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7OzZDQUN2QixzQkFBRSxLQUFLLENBQUMsSUFBSSxDQUFDOzs7OzZDQUNQLE1BQU0sQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLGNBQWMsQ0FBQzs7O0FBQTdELGVBQUc7O0FBQ0gsZUFBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7Ozs7O0tBQzNCLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMsa0NBQWtDLEVBQUU7VUFNakMsR0FBRzs7OztBQUxQLHFCQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDOzs2Q0FDdkIsTUFBTSxDQUFDLFFBQVEsRUFBRTs7O0FBQ3ZCLHFCQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQzs7NkNBQzNCLE1BQU0sQ0FBQyxTQUFTLEVBQUU7OztBQUN4QixxQkFBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQzs7NkNBQ2IsTUFBTSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDOzs7QUFBN0QsZUFBRzs7QUFDUCxlQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7Ozs7Ozs7S0FDM0IsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDO0NBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6InRlc3QvZTJlL3VpY2F0YWxvZy9yZXNldC1zcGVjcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXR1cCBmcm9tIFwiLi4vc2V0dXAtYmFzZVwiO1xuaW1wb3J0IGRlc2lyZWQgZnJvbSAnLi9kZXNpcmVkJztcbmltcG9ydCBCIGZyb20gJ2JsdWViaXJkJztcblxuZGVzY3JpYmUoJ3VpY2F0YWxvZyAtIHJlc2V0JywgZnVuY3Rpb24gKCkge1xuXG4gIGRlc2NyaWJlKCdhcHAgcmVzZXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNlc3Npb24gPSBzZXR1cCh0aGlzLCBkZXNpcmVkKTtcbiAgICBsZXQgZHJpdmVyID0gc2Vzc2lvbi5kcml2ZXI7XG4gICAgbGV0IHJhd0RyaXZlciA9IHNlc3Npb24ucmF3RHJpdmVyO1xuXG4gICAgaXQoXCJzaG91bGQgYmUgYWJsZSB0byBmaW5kIGVsZW1lbnRzIGFmdGVyIGEgc29mdCByZXNldFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICByYXdEcml2ZXIucmVhZHkuc2hvdWxkLmJlLm9rO1xuICAgICAgbGV0IGVscyA9IGF3YWl0IGRyaXZlci5maW5kRWxlbWVudHMoJ2NsYXNzIG5hbWUnLCAnVUlBVGFibGVWaWV3Jyk7XG4gICAgICBlbHMuc2hvdWxkLmhhdmUubGVuZ3RoKDEpO1xuICAgICAgYXdhaXQgZHJpdmVyLnJlc2V0KCk7XG4gICAgICByYXdEcml2ZXIucmVhZHkuc2hvdWxkLmJlLm9rO1xuICAgICAgYXdhaXQgQi5kZWxheSgxMDAwKTtcbiAgICAgIGVscyA9IGF3YWl0IGRyaXZlci5maW5kRWxlbWVudHMoJ2NsYXNzIG5hbWUnLCAnVUlBVGFibGVWaWV3Jyk7XG4gICAgICBlbHMuc2hvdWxkLmhhdmUubGVuZ3RoKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzdWNjZXNzZnVsbHkgY2xvc2UgYW4gYXBwJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmF3RHJpdmVyLnJlYWR5LnNob3VsZC5iZS5vaztcbiAgICAgIGF3YWl0IGRyaXZlci5jbG9zZUFwcCgpO1xuICAgICAgcmF3RHJpdmVyLnJlYWR5LnNob3VsZC5ub3QuYmUub2s7XG4gICAgICBhd2FpdCBkcml2ZXIubGF1bmNoQXBwKCk7XG4gICAgICByYXdEcml2ZXIucmVhZHkuc2hvdWxkLmJlLm9rO1xuICAgICAgbGV0IGVscyA9IGF3YWl0IGRyaXZlci5maW5kRWxlbWVudHMoJ2NsYXNzIG5hbWUnLCAnVUlBVGFibGVWaWV3Jyk7XG4gICAgICBlbHMuc2hvdWxkLmhhdmUubGVuZ3RoKDEpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIuLi8uLi8uLi8uLiJ9
