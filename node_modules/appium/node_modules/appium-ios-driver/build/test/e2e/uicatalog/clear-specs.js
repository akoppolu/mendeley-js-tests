'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _setupBase = require("../setup-base");

var _setupBase2 = _interopRequireDefault(_setupBase);

var _desired = require('./desired');

var _desired2 = _interopRequireDefault(_desired);

var _bluebird = require('bluebird');

var _bluebird2 = _interopRequireDefault(_bluebird);

describe('uicatalog - clear', function () {

  describe('hide keyboard', function () {
    var _this = this;

    var session = (0, _setupBase2['default'])(this, _desired2['default']);
    var driver = session.driver;

    beforeEach(function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.prev = 0;
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.execute("mobile: scroll", { direction: 'down' }));

          case 3:
            context$3$0.next = 7;
            break;

          case 5:
            context$3$0.prev = 5;
            context$3$0.t0 = context$3$0['catch'](0);

          case 7:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this, [[0, 5]]);
    });
    afterEach(function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.prev = 0;
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.back());

          case 3:
            context$3$0.next = 7;
            break;

          case 5:
            context$3$0.prev = 5;
            context$3$0.t0 = context$3$0['catch'](0);

          case 7:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this, [[0, 5]]);
    });

    it('should be able to hide keyboard with the default strategy', function callee$2$0() {
      var el1, el2;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.findElement('xpath', "//UIAStaticText[contains(@name, 'Web View')]"));

          case 2:
            el1 = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(driver.click(el1));

          case 5:
            context$3$0.next = 7;
            return _regeneratorRuntime.awrap(driver.findElement('xpath', '//UIANavigationBar[@name="Web View"]'));

          case 7:
            context$3$0.next = 9;
            return _regeneratorRuntime.awrap(driver.findElement('xpath', "//UIATextField"));

          case 9:
            el2 = context$3$0.sent;
            context$3$0.next = 12;
            return _regeneratorRuntime.awrap(driver.click(el2));

          case 12:
            context$3$0.next = 14;
            return _regeneratorRuntime.awrap(driver.findElement('accessibility id', 'Go'));

          case 14:
            context$3$0.next = 16;
            return _regeneratorRuntime.awrap(driver.hideKeyboard());

          case 16:
            context$3$0.next = 18;
            return _regeneratorRuntime.awrap(_bluebird2['default'].delay(1000));

          case 18:
            context$3$0.next = 20;
            return _regeneratorRuntime.awrap(driver.findElements('accessibility id', 'Go'));

          case 20:
            context$3$0.sent.should.have.length(0);

          case 21:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });

    it('should be able to hide keyboard with the tapOutside strategy', function callee$2$0() {
      var el1, el2;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.findElement('xpath', "//UIAStaticText[contains(@name, 'Web View')]"));

          case 2:
            el1 = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(driver.click(el1));

          case 5:
            context$3$0.next = 7;
            return _regeneratorRuntime.awrap(driver.findElement('xpath', '//UIANavigationBar[@name="Web View"]'));

          case 7:
            context$3$0.next = 9;
            return _regeneratorRuntime.awrap(driver.findElement('xpath', "//UIATextField"));

          case 9:
            el2 = context$3$0.sent;
            context$3$0.next = 12;
            return _regeneratorRuntime.awrap(driver.click(el2));

          case 12:
            context$3$0.next = 14;
            return _regeneratorRuntime.awrap(driver.findElements('accessibility id', 'Go'));

          case 14:
            context$3$0.next = 16;
            return _regeneratorRuntime.awrap(driver.hideKeyboard('tapOutside'));

          case 16:
            context$3$0.next = 18;
            return _regeneratorRuntime.awrap(_bluebird2['default'].delay(1000));

          case 18:
            context$3$0.next = 20;
            return _regeneratorRuntime.awrap(driver.findElements('accessibility id', 'Go'));

          case 20:
            context$3$0.sent.should.have.length(0);

          case 21:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });

    it('should be able to hide keyboard with the tapOut strategy', function callee$2$0() {
      var el1, el2;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.findElement('xpath', "//UIAStaticText[contains(@name, 'Web View')]"));

          case 2:
            el1 = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(driver.click(el1));

          case 5:
            context$3$0.next = 7;
            return _regeneratorRuntime.awrap(driver.findElement('xpath', '//UIANavigationBar[@name="Web View"]'));

          case 7:
            context$3$0.next = 9;
            return _regeneratorRuntime.awrap(driver.findElement('xpath', "//UIATextField"));

          case 9:
            el2 = context$3$0.sent;
            context$3$0.next = 12;
            return _regeneratorRuntime.awrap(driver.click(el2));

          case 12:
            context$3$0.next = 14;
            return _regeneratorRuntime.awrap(driver.findElements('accessibility id', 'Go'));

          case 14:
            context$3$0.next = 16;
            return _regeneratorRuntime.awrap(driver.hideKeyboard('tapOut'));

          case 16:
            context$3$0.next = 18;
            return _regeneratorRuntime.awrap(_bluebird2['default'].delay(1000));

          case 18:
            context$3$0.next = 20;
            return _regeneratorRuntime.awrap(driver.findElements('accessibility id', 'Go'));

          case 20:
            context$3$0.sent.should.have.length(0);

          case 21:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL3VpY2F0YWxvZy9jbGVhci1zcGVjcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7eUJBQWtCLGVBQWU7Ozs7dUJBQ2IsV0FBVzs7Ozt3QkFDakIsVUFBVTs7OztBQUV4QixRQUFRLENBQUMsbUJBQW1CLEVBQUUsWUFBWTs7QUFFeEMsVUFBUSxDQUFDLGVBQWUsRUFBRSxZQUFZOzs7QUFDcEMsUUFBSSxPQUFPLEdBQUcsNEJBQU0sSUFBSSx1QkFBVSxDQUFDO0FBQ25DLFFBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7O0FBRTVCLGNBQVUsQ0FBQzs7Ozs7OzZDQUVELE1BQU0sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxTQUFTLEVBQUUsTUFBTSxFQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7OztLQUU5RCxDQUFDLENBQUM7QUFDSCxhQUFTLENBQUM7Ozs7Ozs2Q0FFQSxNQUFNLENBQUMsSUFBSSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7S0FFdEIsQ0FBQyxDQUFDOztBQUVILE1BQUUsQ0FBQywyREFBMkQsRUFBRTtVQUMxRCxHQUFHLEVBR0gsR0FBRzs7Ozs7NkNBSFMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsOENBQThDLENBQUM7OztBQUF2RixlQUFHOzs2Q0FDRCxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQzs7Ozs2Q0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsc0NBQXNDLENBQUM7Ozs7NkNBQ3pELE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLGdCQUFnQixDQUFDOzs7QUFBekQsZUFBRzs7NkNBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7Ozs7NkNBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDOzs7OzZDQUM1QyxNQUFNLENBQUMsWUFBWSxFQUFFOzs7OzZDQUNyQixzQkFBRSxLQUFLLENBQUMsSUFBSSxDQUFDOzs7OzZDQUNaLE1BQU0sQ0FBQyxZQUFZLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDOzs7NkJBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzs7Ozs7OztLQUMzRSxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLDhEQUE4RCxFQUFFO1VBQzdELEdBQUcsRUFHSCxHQUFHOzs7Ozs2Q0FIUyxNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSw4Q0FBOEMsQ0FBQzs7O0FBQXZGLGVBQUc7OzZDQUNELE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDOzs7OzZDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxzQ0FBc0MsQ0FBQzs7Ozs2Q0FDekQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLENBQUM7OztBQUF6RCxlQUFHOzs2Q0FDRCxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQzs7Ozs2Q0FDakIsTUFBTSxDQUFDLFlBQVksQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUM7Ozs7NkNBQzdDLE1BQU0sQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDOzs7OzZDQUNqQyxzQkFBRSxLQUFLLENBQUMsSUFBSSxDQUFDOzs7OzZDQUNaLE1BQU0sQ0FBQyxZQUFZLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDOzs7NkJBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzs7Ozs7OztLQUMzRSxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLDBEQUEwRCxFQUFFO1VBQ3pELEdBQUcsRUFHSCxHQUFHOzs7Ozs2Q0FIUyxNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSw4Q0FBOEMsQ0FBQzs7O0FBQXZGLGVBQUc7OzZDQUNELE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDOzs7OzZDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxzQ0FBc0MsQ0FBQzs7Ozs2Q0FDekQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLENBQUM7OztBQUF6RCxlQUFHOzs2Q0FDRCxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQzs7Ozs2Q0FDakIsTUFBTSxDQUFDLFlBQVksQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUM7Ozs7NkNBQzdDLE1BQU0sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDOzs7OzZDQUM3QixzQkFBRSxLQUFLLENBQUMsSUFBSSxDQUFDOzs7OzZDQUNaLE1BQU0sQ0FBQyxZQUFZLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDOzs7NkJBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzs7Ozs7OztLQUMzRSxDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoidGVzdC9lMmUvdWljYXRhbG9nL2NsZWFyLXNwZWNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNldHVwIGZyb20gXCIuLi9zZXR1cC1iYXNlXCI7XG5pbXBvcnQgZGVzaXJlZCBmcm9tICcuL2Rlc2lyZWQnO1xuaW1wb3J0IEIgZnJvbSAnYmx1ZWJpcmQnO1xuXG5kZXNjcmliZSgndWljYXRhbG9nIC0gY2xlYXInLCBmdW5jdGlvbiAoKSB7XG5cbiAgZGVzY3JpYmUoJ2hpZGUga2V5Ym9hcmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNlc3Npb24gPSBzZXR1cCh0aGlzLCBkZXNpcmVkKTtcbiAgICBsZXQgZHJpdmVyID0gc2Vzc2lvbi5kcml2ZXI7XG5cbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRyaXZlci5leGVjdXRlKFwibW9iaWxlOiBzY3JvbGxcIiwge2RpcmVjdGlvbjogJ2Rvd24nfSk7XG4gICAgICB9IGNhdGNoIChpZ24pIHt9XG4gICAgfSk7XG4gICAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRyaXZlci5iYWNrKCk7XG4gICAgICB9IGNhdGNoIChpZ24pIHt9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gaGlkZSBrZXlib2FyZCB3aXRoIHRoZSBkZWZhdWx0IHN0cmF0ZWd5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGVsMSA9IGF3YWl0IGRyaXZlci5maW5kRWxlbWVudCgneHBhdGgnLCBcIi8vVUlBU3RhdGljVGV4dFtjb250YWlucyhAbmFtZSwgJ1dlYiBWaWV3JyldXCIpO1xuICAgICAgYXdhaXQgZHJpdmVyLmNsaWNrKGVsMSk7XG4gICAgICBhd2FpdCBkcml2ZXIuZmluZEVsZW1lbnQoJ3hwYXRoJywgJy8vVUlBTmF2aWdhdGlvbkJhcltAbmFtZT1cIldlYiBWaWV3XCJdJyk7XG4gICAgICBsZXQgZWwyID0gYXdhaXQgZHJpdmVyLmZpbmRFbGVtZW50KCd4cGF0aCcsIFwiLy9VSUFUZXh0RmllbGRcIik7XG4gICAgICBhd2FpdCBkcml2ZXIuY2xpY2soZWwyKTtcbiAgICAgIGF3YWl0IGRyaXZlci5maW5kRWxlbWVudCgnYWNjZXNzaWJpbGl0eSBpZCcsICdHbycpO1xuICAgICAgYXdhaXQgZHJpdmVyLmhpZGVLZXlib2FyZCgpO1xuICAgICAgYXdhaXQgQi5kZWxheSgxMDAwKTtcbiAgICAgIChhd2FpdCBkcml2ZXIuZmluZEVsZW1lbnRzKCdhY2Nlc3NpYmlsaXR5IGlkJywgJ0dvJykpLnNob3VsZC5oYXZlLmxlbmd0aCgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBoaWRlIGtleWJvYXJkIHdpdGggdGhlIHRhcE91dHNpZGUgc3RyYXRlZ3knLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZWwxID0gYXdhaXQgZHJpdmVyLmZpbmRFbGVtZW50KCd4cGF0aCcsIFwiLy9VSUFTdGF0aWNUZXh0W2NvbnRhaW5zKEBuYW1lLCAnV2ViIFZpZXcnKV1cIik7XG4gICAgICBhd2FpdCBkcml2ZXIuY2xpY2soZWwxKTtcbiAgICAgIGF3YWl0IGRyaXZlci5maW5kRWxlbWVudCgneHBhdGgnLCAnLy9VSUFOYXZpZ2F0aW9uQmFyW0BuYW1lPVwiV2ViIFZpZXdcIl0nKTtcbiAgICAgIGxldCBlbDIgPSBhd2FpdCBkcml2ZXIuZmluZEVsZW1lbnQoJ3hwYXRoJywgXCIvL1VJQVRleHRGaWVsZFwiKTtcbiAgICAgIGF3YWl0IGRyaXZlci5jbGljayhlbDIpO1xuICAgICAgYXdhaXQgZHJpdmVyLmZpbmRFbGVtZW50cygnYWNjZXNzaWJpbGl0eSBpZCcsICdHbycpO1xuICAgICAgYXdhaXQgZHJpdmVyLmhpZGVLZXlib2FyZCgndGFwT3V0c2lkZScpO1xuICAgICAgYXdhaXQgQi5kZWxheSgxMDAwKTtcbiAgICAgIChhd2FpdCBkcml2ZXIuZmluZEVsZW1lbnRzKCdhY2Nlc3NpYmlsaXR5IGlkJywgJ0dvJykpLnNob3VsZC5oYXZlLmxlbmd0aCgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBoaWRlIGtleWJvYXJkIHdpdGggdGhlIHRhcE91dCBzdHJhdGVneScsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBlbDEgPSBhd2FpdCBkcml2ZXIuZmluZEVsZW1lbnQoJ3hwYXRoJywgXCIvL1VJQVN0YXRpY1RleHRbY29udGFpbnMoQG5hbWUsICdXZWIgVmlldycpXVwiKTtcbiAgICAgIGF3YWl0IGRyaXZlci5jbGljayhlbDEpO1xuICAgICAgYXdhaXQgZHJpdmVyLmZpbmRFbGVtZW50KCd4cGF0aCcsICcvL1VJQU5hdmlnYXRpb25CYXJbQG5hbWU9XCJXZWIgVmlld1wiXScpO1xuICAgICAgbGV0IGVsMiA9IGF3YWl0IGRyaXZlci5maW5kRWxlbWVudCgneHBhdGgnLCBcIi8vVUlBVGV4dEZpZWxkXCIpO1xuICAgICAgYXdhaXQgZHJpdmVyLmNsaWNrKGVsMik7XG4gICAgICBhd2FpdCBkcml2ZXIuZmluZEVsZW1lbnRzKCdhY2Nlc3NpYmlsaXR5IGlkJywgJ0dvJyk7XG4gICAgICBhd2FpdCBkcml2ZXIuaGlkZUtleWJvYXJkKCd0YXBPdXQnKTtcbiAgICAgIGF3YWl0IEIuZGVsYXkoMTAwMCk7XG4gICAgICAoYXdhaXQgZHJpdmVyLmZpbmRFbGVtZW50cygnYWNjZXNzaWJpbGl0eSBpZCcsICdHbycpKS5zaG91bGQuaGF2ZS5sZW5ndGgoMCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii4uLy4uLy4uLy4uIn0=
