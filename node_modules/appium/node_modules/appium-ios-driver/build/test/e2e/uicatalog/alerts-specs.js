"use strict";

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _helpersEnv = require('../helpers/env');

var _helpersEnv2 = _interopRequireDefault(_helpersEnv);

var _setupBase = require('../setup-base');

var _setupBase2 = _interopRequireDefault(_setupBase);

var _desired = require('./desired');

var _desired2 = _interopRequireDefault(_desired);

var _bluebird = require('bluebird');

var _bluebird2 = _interopRequireDefault(_bluebird);

describe('uicatalog - alerts', function () {
  var _this = this;

  var alertTag = _helpersEnv2['default'].IOS7 ? '@label' : '@value';

  var session = (0, _setupBase2['default'])(this, _desired2['default']);
  var driver = session.driver;

  afterEach(function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.prev = 0;
          context$2$0.next = 3;
          return _regeneratorRuntime.awrap(driver.back());

        case 3:
          context$2$0.next = 7;
          break;

        case 5:
          context$2$0.prev = 5;
          context$2$0.t0 = context$2$0['catch'](0);

        case 7:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this, [[0, 5]]);
  });

  it('should detect Simple', function callee$1$0() {
    var el1, el2;
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(driver.findElement('xpath', "//UIAStaticText[contains(@label,'Alert Views')]"));

        case 2:
          el1 = context$2$0.sent;
          context$2$0.next = 5;
          return _regeneratorRuntime.awrap(driver.click(el1));

        case 5:
          context$2$0.next = 7;
          return _regeneratorRuntime.awrap(driver.findElement('xpath', '//UIAStaticText[contains(' + alertTag + ',\'Simple\')]'));

        case 7:
          el2 = context$2$0.sent;
          context$2$0.next = 10;
          return _regeneratorRuntime.awrap(driver.click(el2));

        case 10:
          context$2$0.next = 12;
          return _regeneratorRuntime.awrap(_bluebird2['default'].delay(2000));

        case 12:
          context$2$0.next = 14;
          return _regeneratorRuntime.awrap(driver.getAlertText());

        case 14:
          context$2$0.sent.should.include('A Short Title Is Best');
          context$2$0.next = 17;
          return _regeneratorRuntime.awrap(driver.postDismissAlert());

        case 17:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });

  it('should detect Okay', function callee$1$0() {
    var el1, el2;
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(driver.findElement('xpath', "//UIAStaticText[contains(@label,'Alert Views')]"));

        case 2:
          el1 = context$2$0.sent;
          context$2$0.next = 5;
          return _regeneratorRuntime.awrap(driver.click(el1));

        case 5:
          context$2$0.next = 7;
          return _regeneratorRuntime.awrap(driver.findElement('xpath', '//UIAStaticText[contains(' + alertTag + ',\'Okay\')]'));

        case 7:
          el2 = context$2$0.sent;
          context$2$0.next = 10;
          return _regeneratorRuntime.awrap(driver.click(el2));

        case 10:
          context$2$0.next = 12;
          return _regeneratorRuntime.awrap(_bluebird2['default'].delay(2000));

        case 12:
          context$2$0.next = 14;
          return _regeneratorRuntime.awrap(driver.getAlertText());

        case 14:
          context$2$0.sent.should.include('A Short Title Is Best');
          context$2$0.next = 17;
          return _regeneratorRuntime.awrap(driver.postAcceptAlert());

        case 17:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });

  it('should detect Other', function callee$1$0() {
    var el1, el2;
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(driver.findElement('xpath', "//UIAStaticText[contains(@label,'Alert Views')]"));

        case 2:
          el1 = context$2$0.sent;
          context$2$0.next = 5;
          return _regeneratorRuntime.awrap(driver.click(el1));

        case 5:
          context$2$0.next = 7;
          return _regeneratorRuntime.awrap(driver.findElement('xpath', '//UIAStaticText[contains(' + alertTag + ',\'Other\')]'));

        case 7:
          el2 = context$2$0.sent;
          context$2$0.next = 10;
          return _regeneratorRuntime.awrap(driver.click(el2));

        case 10:
          context$2$0.next = 12;
          return _regeneratorRuntime.awrap(_bluebird2['default'].delay(2000));

        case 12:
          context$2$0.next = 14;
          return _regeneratorRuntime.awrap(driver.getAlertText());

        case 14:
          context$2$0.sent.should.include('A Short Title Is Best');
          context$2$0.next = 17;
          return _regeneratorRuntime.awrap(driver.postDismissAlert());

        case 17:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL3VpY2F0YWxvZy9hbGVydHMtc3BlY3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDOzs7Ozs7MEJBRUcsZ0JBQWdCOzs7O3lCQUNkLGVBQWU7Ozs7dUJBQ2IsV0FBVzs7Ozt3QkFDakIsVUFBVTs7OztBQUV4QixRQUFRLENBQUMsb0JBQW9CLEVBQUUsWUFBWTs7O0FBRXpDLE1BQUksUUFBUSxHQUFHLHdCQUFJLElBQUksR0FBRyxRQUFRLEdBQUcsUUFBUSxDQUFDOztBQUU5QyxNQUFJLE9BQU8sR0FBRyw0QkFBTSxJQUFJLHVCQUFVLENBQUM7QUFDbkMsTUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQzs7QUFFNUIsV0FBUyxDQUFDOzs7Ozs7MkNBQ0ksTUFBTSxDQUFDLElBQUksRUFBRTs7Ozs7Ozs7Ozs7Ozs7O0dBQzFCLENBQUMsQ0FBQzs7QUFFSCxJQUFFLENBQUMsc0JBQXNCLEVBQUU7UUFDckIsR0FBRyxFQUVILEdBQUc7Ozs7OzJDQUZTLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLGlEQUFpRCxDQUFDOzs7QUFBMUYsYUFBRzs7MkNBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7Ozs7MkNBQ1AsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLGdDQUE4QixRQUFRLG1CQUFjOzs7QUFBMUYsYUFBRzs7MkNBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7Ozs7MkNBQ2pCLHNCQUFFLEtBQUssQ0FBQyxJQUFJLENBQUM7Ozs7MkNBQ1osTUFBTSxDQUFDLFlBQVksRUFBRTs7OzJCQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsdUJBQXVCOzsyQ0FDOUQsTUFBTSxDQUFDLGdCQUFnQixFQUFFOzs7Ozs7O0dBQ2hDLENBQUMsQ0FBQzs7QUFFSCxJQUFFLENBQUMsb0JBQW9CLEVBQUU7UUFDbkIsR0FBRyxFQUVILEdBQUc7Ozs7OzJDQUZTLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLGlEQUFpRCxDQUFDOzs7QUFBMUYsYUFBRzs7MkNBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7Ozs7MkNBQ1AsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLGdDQUE4QixRQUFRLGlCQUFZOzs7QUFBeEYsYUFBRzs7MkNBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7Ozs7MkNBQ2pCLHNCQUFFLEtBQUssQ0FBQyxJQUFJLENBQUM7Ozs7MkNBQ1osTUFBTSxDQUFDLFlBQVksRUFBRTs7OzJCQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsdUJBQXVCOzsyQ0FDOUQsTUFBTSxDQUFDLGVBQWUsRUFBRTs7Ozs7OztHQUMvQixDQUFDLENBQUM7O0FBRUgsSUFBRSxDQUFDLHFCQUFxQixFQUFFO1FBQ3BCLEdBQUcsRUFFSCxHQUFHOzs7OzsyQ0FGUyxNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxpREFBaUQsQ0FBQzs7O0FBQTFGLGFBQUc7OzJDQUNELE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDOzs7OzJDQUNQLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxnQ0FBOEIsUUFBUSxrQkFBYTs7O0FBQXpGLGFBQUc7OzJDQUNELE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDOzs7OzJDQUNqQixzQkFBRSxLQUFLLENBQUMsSUFBSSxDQUFDOzs7OzJDQUNaLE1BQU0sQ0FBQyxZQUFZLEVBQUU7OzsyQkFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLHVCQUF1Qjs7MkNBQzlELE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRTs7Ozs7OztHQUNoQyxDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoidGVzdC9lMmUvdWljYXRhbG9nL2FsZXJ0cy1zcGVjcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgZW52IGZyb20gJy4uL2hlbHBlcnMvZW52JztcbmltcG9ydCBzZXR1cCBmcm9tICcuLi9zZXR1cC1iYXNlJztcbmltcG9ydCBkZXNpcmVkIGZyb20gJy4vZGVzaXJlZCc7XG5pbXBvcnQgQiBmcm9tICdibHVlYmlyZCc7XG5cbmRlc2NyaWJlKCd1aWNhdGFsb2cgLSBhbGVydHMnLCBmdW5jdGlvbiAoKSB7XG5cbiAgbGV0IGFsZXJ0VGFnID0gZW52LklPUzcgPyAnQGxhYmVsJyA6ICdAdmFsdWUnO1xuXG4gIGxldCBzZXNzaW9uID0gc2V0dXAodGhpcywgZGVzaXJlZCk7XG4gIGxldCBkcml2ZXIgPSBzZXNzaW9uLmRyaXZlcjtcblxuICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7IGF3YWl0IGRyaXZlci5iYWNrKCk7IH0gY2F0Y2ggKGlnbikge31cbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBkZXRlY3QgU2ltcGxlJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBlbDEgPSBhd2FpdCBkcml2ZXIuZmluZEVsZW1lbnQoJ3hwYXRoJywgXCIvL1VJQVN0YXRpY1RleHRbY29udGFpbnMoQGxhYmVsLCdBbGVydCBWaWV3cycpXVwiKTtcbiAgICBhd2FpdCBkcml2ZXIuY2xpY2soZWwxKTtcbiAgICBsZXQgZWwyID0gYXdhaXQgZHJpdmVyLmZpbmRFbGVtZW50KCd4cGF0aCcsIGAvL1VJQVN0YXRpY1RleHRbY29udGFpbnMoJHthbGVydFRhZ30sJ1NpbXBsZScpXWApO1xuICAgIGF3YWl0IGRyaXZlci5jbGljayhlbDIpO1xuICAgIGF3YWl0IEIuZGVsYXkoMjAwMCk7XG4gICAgKGF3YWl0IGRyaXZlci5nZXRBbGVydFRleHQoKSkuc2hvdWxkLmluY2x1ZGUoJ0EgU2hvcnQgVGl0bGUgSXMgQmVzdCcpO1xuICAgIGF3YWl0IGRyaXZlci5wb3N0RGlzbWlzc0FsZXJ0KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZGV0ZWN0IE9rYXknLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGVsMSA9IGF3YWl0IGRyaXZlci5maW5kRWxlbWVudCgneHBhdGgnLCBcIi8vVUlBU3RhdGljVGV4dFtjb250YWlucyhAbGFiZWwsJ0FsZXJ0IFZpZXdzJyldXCIpO1xuICAgIGF3YWl0IGRyaXZlci5jbGljayhlbDEpO1xuICAgIGxldCBlbDIgPSBhd2FpdCBkcml2ZXIuZmluZEVsZW1lbnQoJ3hwYXRoJywgYC8vVUlBU3RhdGljVGV4dFtjb250YWlucygke2FsZXJ0VGFnfSwnT2theScpXWApO1xuICAgIGF3YWl0IGRyaXZlci5jbGljayhlbDIpO1xuICAgIGF3YWl0IEIuZGVsYXkoMjAwMCk7XG4gICAgKGF3YWl0IGRyaXZlci5nZXRBbGVydFRleHQoKSkuc2hvdWxkLmluY2x1ZGUoJ0EgU2hvcnQgVGl0bGUgSXMgQmVzdCcpO1xuICAgIGF3YWl0IGRyaXZlci5wb3N0QWNjZXB0QWxlcnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBkZXRlY3QgT3RoZXInLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGVsMSA9IGF3YWl0IGRyaXZlci5maW5kRWxlbWVudCgneHBhdGgnLCBcIi8vVUlBU3RhdGljVGV4dFtjb250YWlucyhAbGFiZWwsJ0FsZXJ0IFZpZXdzJyldXCIpO1xuICAgIGF3YWl0IGRyaXZlci5jbGljayhlbDEpO1xuICAgIGxldCBlbDIgPSBhd2FpdCBkcml2ZXIuZmluZEVsZW1lbnQoJ3hwYXRoJywgYC8vVUlBU3RhdGljVGV4dFtjb250YWlucygke2FsZXJ0VGFnfSwnT3RoZXInKV1gKTtcbiAgICBhd2FpdCBkcml2ZXIuY2xpY2soZWwyKTtcbiAgICBhd2FpdCBCLmRlbGF5KDIwMDApO1xuICAgIChhd2FpdCBkcml2ZXIuZ2V0QWxlcnRUZXh0KCkpLnNob3VsZC5pbmNsdWRlKCdBIFNob3J0IFRpdGxlIElzIEJlc3QnKTtcbiAgICBhd2FpdCBkcml2ZXIucG9zdERpc21pc3NBbGVydCgpO1xuICB9KTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIuLi8uLi8uLi8uLiJ9
