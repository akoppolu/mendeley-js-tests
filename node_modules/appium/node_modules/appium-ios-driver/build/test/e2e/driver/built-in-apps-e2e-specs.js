require('source-map-support').install();

'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _helpersEnv = require('../helpers/env');

var _helpersEnv2 = _interopRequireDefault(_helpersEnv);

var _libDriver = require('../../../lib/driver');

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

var _helpersSession = require('../helpers/session');

_chai2['default'].should();
_chai2['default'].use(_chaiAsPromised2['default']);

describe('built-in apps', function () {
  var _this = this;

  this.timeout(_helpersSession.MOCHA_TIMEOUT);

  var driver = undefined;
  describe('Calendar', function () {
    it('should start', function callee$2$0() {
      var caps, src;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            caps = {
              app: 'Calendar',
              platformName: 'iOS',
              showIOSLog: false,
              noReset: true,
              newCommandTimeout: 120
            };

            caps = _lodash2['default'].merge({}, _helpersEnv2['default'].CAPS, caps);
            driver = new _libDriver.IosDriver();
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(driver.createSession(caps));

          case 5:
            context$3$0.next = 7;
            return _regeneratorRuntime.awrap(driver.getPageSource());

          case 7:
            src = context$3$0.sent;

            src.should.include('UIAApplication name="Calendar" label="Calendar"');

          case 9:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL2RyaXZlci9idWlsdC1pbi1hcHBzLWUyZS1zcGVjcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztzQkFFYyxRQUFROzs7OzBCQUNOLGdCQUFnQjs7Ozt5QkFDTixxQkFBcUI7O29CQUM5QixNQUFNOzs7OzhCQUNJLGtCQUFrQjs7Ozs4QkFDZixvQkFBb0I7O0FBRWxELGtCQUFLLE1BQU0sRUFBRSxDQUFDO0FBQ2Qsa0JBQUssR0FBRyw2QkFBZ0IsQ0FBQzs7QUFFekIsUUFBUSxDQUFDLGVBQWUsRUFBRSxZQUFZOzs7QUFDcEMsTUFBSSxDQUFDLE9BQU8sK0JBQWUsQ0FBQzs7QUFFNUIsTUFBSSxNQUFNLFlBQUEsQ0FBQztBQUNYLFVBQVEsQ0FBQyxVQUFVLEVBQUUsWUFBTTtBQUN6QixNQUFFLENBQUMsY0FBYyxFQUFFO1VBQ2IsSUFBSSxFQVdKLEdBQUc7Ozs7QUFYSCxnQkFBSSxHQUFHO0FBQ1QsaUJBQUcsRUFBRSxVQUFVO0FBQ2YsMEJBQVksRUFBRSxLQUFLO0FBQ25CLHdCQUFVLEVBQUUsS0FBSztBQUNqQixxQkFBTyxFQUFFLElBQUk7QUFDYiwrQkFBaUIsRUFBRSxHQUFHO2FBQ3ZCOztBQUNELGdCQUFJLEdBQUcsb0JBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRSx3QkFBSSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDbkMsa0JBQU0sR0FBRywwQkFBZSxDQUFDOzs2Q0FDbkIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUM7Ozs7NkNBRWhCLE1BQU0sQ0FBQyxhQUFhLEVBQUU7OztBQUFsQyxlQUFHOztBQUNQLGVBQUcsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGlEQUFpRCxDQUFDLENBQUM7Ozs7Ozs7S0FDdkUsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDO0NBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6InRlc3QvZTJlL2RyaXZlci9idWlsdC1pbi1hcHBzLWUyZS1zcGVjcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHRyYW5zcGlsZTptb2NoYVxuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IGVudiBmcm9tICcuLi9oZWxwZXJzL2Vudic7XG5pbXBvcnQgeyBJb3NEcml2ZXIgfSBmcm9tICcuLi8uLi8uLi9saWIvZHJpdmVyJztcbmltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IGNoYWlBc1Byb21pc2VkIGZyb20gJ2NoYWktYXMtcHJvbWlzZWQnO1xuaW1wb3J0IHsgTU9DSEFfVElNRU9VVCB9IGZyb20gJy4uL2hlbHBlcnMvc2Vzc2lvbic7XG5cbmNoYWkuc2hvdWxkKCk7XG5jaGFpLnVzZShjaGFpQXNQcm9taXNlZCk7XG5cbmRlc2NyaWJlKCdidWlsdC1pbiBhcHBzJywgZnVuY3Rpb24gKCkge1xuICB0aGlzLnRpbWVvdXQoTU9DSEFfVElNRU9VVCk7XG4gIFxuICBsZXQgZHJpdmVyO1xuICBkZXNjcmliZSgnQ2FsZW5kYXInLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzdGFydCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBjYXBzID0ge1xuICAgICAgICBhcHA6ICdDYWxlbmRhcicsXG4gICAgICAgIHBsYXRmb3JtTmFtZTogJ2lPUycsXG4gICAgICAgIHNob3dJT1NMb2c6IGZhbHNlLFxuICAgICAgICBub1Jlc2V0OiB0cnVlLFxuICAgICAgICBuZXdDb21tYW5kVGltZW91dDogMTIwXG4gICAgICB9O1xuICAgICAgY2FwcyA9IF8ubWVyZ2Uoe30sIGVudi5DQVBTLCBjYXBzKTtcbiAgICAgIGRyaXZlciA9IG5ldyBJb3NEcml2ZXIoKTtcbiAgICAgIGF3YWl0IGRyaXZlci5jcmVhdGVTZXNzaW9uKGNhcHMpO1xuXG4gICAgICBsZXQgc3JjID0gYXdhaXQgZHJpdmVyLmdldFBhZ2VTb3VyY2UoKTtcbiAgICAgIHNyYy5zaG91bGQuaW5jbHVkZSgnVUlBQXBwbGljYXRpb24gbmFtZT1cIkNhbGVuZGFyXCIgbGFiZWw9XCJDYWxlbmRhclwiJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii4uLy4uLy4uLy4uIn0=
