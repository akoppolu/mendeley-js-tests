'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _setupBase = require("../../setup-base");

var _setupBase2 = _interopRequireDefault(_setupBase);

var _desired = require('../desired');

var _desired2 = _interopRequireDefault(_desired);

var _bluebird = require('bluebird');

var _bluebird2 = _interopRequireDefault(_bluebird);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _helpersRecipes = require('../../helpers/recipes');

describe('testapp - autoDismissAlerts cap = true', function () {
  var _this = this;

  var session = (0, _setupBase2['default'])(this, _lodash2['default'].defaults({
    autoDismissAlerts: true }, _desired2['default']));
  var driver = session.driver;

  it('auto-dismiss alerts', function callee$1$0() {
    var el;
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(driver.findElement('accessibility id', 'show alert'));

        case 2:
          el = context$2$0.sent;
          context$2$0.next = 5;
          return _regeneratorRuntime.awrap(driver.click(el));

        case 5:
          context$2$0.next = 7;
          return _regeneratorRuntime.awrap(_bluebird2['default'].delay(2000));

        case 7:
          context$2$0.next = 9;
          return _regeneratorRuntime.awrap(_bluebird2['default'].resolve(driver.getAlertText())['catch'](_helpersRecipes.throwMatchableError).should.be.rejectedWith(/jsonwpCode: 27/));

        case 9:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL3Rlc3RhcHAvYXV0b2Rpc21pc3MtYWxlcnRzL2F1dG9kaXNtaXNzLXRydWUtc3BlY3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O3lCQUFrQixrQkFBa0I7Ozs7dUJBQ2hCLFlBQVk7Ozs7d0JBQ2xCLFVBQVU7Ozs7c0JBQ1YsUUFBUTs7Ozs4QkFDYyx1QkFBdUI7O0FBRTNELFFBQVEsQ0FBQyx3Q0FBd0MsRUFBRSxZQUFZOzs7QUFDN0QsTUFBSSxPQUFPLEdBQUcsNEJBQU0sSUFBSSxFQUFFLG9CQUFFLFFBQVEsQ0FBQztBQUNuQyxxQkFBaUIsRUFBRSxJQUFJLEVBQUMsdUJBQVUsQ0FBQyxDQUFDO0FBQ3RDLE1BQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7O0FBRTVCLElBQUUsQ0FBQyxxQkFBcUIsRUFBRTtRQUNwQixFQUFFOzs7OzsyQ0FBUyxNQUFNLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFLFlBQVksQ0FBQzs7O0FBQS9ELFlBQUU7OzJDQUNBLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDOzs7OzJDQUNoQixzQkFBRSxLQUFLLENBQUMsSUFBSSxDQUFDOzs7OzJDQUNiLHNCQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsU0FDOUIscUNBQXFCLENBQzFCLE1BQU0sQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDOzs7Ozs7O0dBQzVDLENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQyIsImZpbGUiOiJ0ZXN0L2UyZS90ZXN0YXBwL2F1dG9kaXNtaXNzLWFsZXJ0cy9hdXRvZGlzbWlzcy10cnVlLXNwZWNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNldHVwIGZyb20gXCIuLi8uLi9zZXR1cC1iYXNlXCI7XG5pbXBvcnQgZGVzaXJlZCBmcm9tICcuLi9kZXNpcmVkJztcbmltcG9ydCBCIGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyB0aHJvd01hdGNoYWJsZUVycm9yIH0gZnJvbSAnLi4vLi4vaGVscGVycy9yZWNpcGVzJztcblxuZGVzY3JpYmUoJ3Rlc3RhcHAgLSBhdXRvRGlzbWlzc0FsZXJ0cyBjYXAgPSB0cnVlJywgZnVuY3Rpb24gKCkge1xuICBsZXQgc2Vzc2lvbiA9IHNldHVwKHRoaXMsIF8uZGVmYXVsdHMoe1xuICAgIGF1dG9EaXNtaXNzQWxlcnRzOiB0cnVlfSwgZGVzaXJlZCkpO1xuICBsZXQgZHJpdmVyID0gc2Vzc2lvbi5kcml2ZXI7XG5cbiAgaXQoJ2F1dG8tZGlzbWlzcyBhbGVydHMnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGVsID0gYXdhaXQgZHJpdmVyLmZpbmRFbGVtZW50KCdhY2Nlc3NpYmlsaXR5IGlkJywgJ3Nob3cgYWxlcnQnKTtcbiAgICBhd2FpdCBkcml2ZXIuY2xpY2soZWwpO1xuICAgIGF3YWl0IEIuZGVsYXkoMjAwMCk7XG4gICAgYXdhaXQgQi5yZXNvbHZlKGRyaXZlci5nZXRBbGVydFRleHQoKSlcbiAgICAgIC5jYXRjaCh0aHJvd01hdGNoYWJsZUVycm9yKVxuICAgICAgLnNob3VsZC5iZS5yZWplY3RlZFdpdGgoL2pzb253cENvZGU6IDI3Lyk7XG4gIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii4uLy4uLy4uLy4uLy4uIn0=
